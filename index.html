<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="LP CATALOGOS - Seu gerenciador de catálogos PDF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>LP CATALOGOS</title>

    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </div>
                    <h1>LP CATALOGOS</h1>
                </div>
                <div class="header-actions">
                    <button class="btn-icon" id="newFolderBtn" aria-label="Nova Pasta" title="Nova Pasta">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
                            </path>
                            <line x1="12" y1="11" x2="12" y2="17"></line>
                            <line x1="9" y1="14" x2="15" y2="14"></line>
                        </svg>
                    </button>
                    <button class="btn-icon" id="searchToggle" aria-label="Buscar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>

                </div>
            </div>

            <!-- Breadcrumb -->
            <nav class="breadcrumb" id="breadcrumb">
                <button class="breadcrumb-item active" id="breadcrumbRoot">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    </svg>
                    <span>Início</span>
                </button>
                <span class="breadcrumb-separator" id="breadcrumbSeparator">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </span>
                <span class="breadcrumb-item current" id="breadcrumbCurrent"></span>
            </nav>

            <!-- Search Bar -->
            <div class="search-bar" id="searchBar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="searchInput" placeholder="Buscar catálogos..." autocomplete="off">
                <button class="btn-clear" id="clearSearch" aria-label="Limpar busca">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Drop Zone -->
            <div class="drop-zone" id="dropZone">
                <div class="drop-zone-content">
                    <div class="drop-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                    </div>
                    <p>Solte seus arquivos PDF aqui</p>
                </div>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                </div>
                <h2>Nenhum catálogo</h2>
                <p>Adicione seus primeiros PDFs clicando no botão abaixo</p>
            </div>

            <!-- Folder Grid -->
            <div class="folder-grid" id="folderGrid"></div>

            <!-- Catalog Grid -->
            <div class="catalog-grid" id="catalogGrid"></div>
        </main>

        <!-- Upload Button -->
        <button class="fab" id="uploadBtn" aria-label="Adicionar PDF">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
        <input type="file" id="fileInput" accept=".pdf,application/pdf" multiple hidden>

        <!-- PDF Viewer Modal -->
        <div class="modal" id="pdfModal">
            <div class="modal-header">
                <button class="btn-icon btn-back" id="closeModal" aria-label="Voltar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <h2 class="modal-title" id="modalTitle">Documento</h2>
                <div class="modal-actions">
                    <button class="btn-icon" id="moveBtn" aria-label="Mover para pasta" title="Mover">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
                            </path>
                            <polyline points="12 11 12 17"></polyline>
                            <polyline points="9 14 12 11 15 14"></polyline>
                        </svg>
                    </button>
                    <button class="btn-icon" id="shareBtn" aria-label="Compartilhar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                    </button>
                    <button class="btn-icon btn-delete" id="deleteBtn" aria-label="Excluir">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="modal-content">
                <iframe id="pdfViewer" title="Visualizador de PDF"></iframe>
            </div>
        </div>

        <!-- Folder Modal -->
        <div class="folder-modal-overlay" id="folderModalOverlay">
            <div class="folder-modal" id="folderModal">
                <h3 id="folderModalTitle">Nova Pasta</h3>
                <input type="text" id="folderNameInput" placeholder="Nome da pasta" maxlength="50" autocomplete="off">
                <div class="folder-modal-actions">
                    <button class="btn-text" id="cancelFolderBtn">Cancelar</button>
                    <button class="btn-primary" id="saveFolderBtn">Salvar</button>
                </div>
            </div>
        </div>

        <!-- Move Modal -->
        <div class="move-modal-overlay" id="moveModalOverlay">
            <div class="move-modal" id="moveModal">
                <div class="move-modal-header">
                    <h3>Mover para...</h3>
                    <button class="btn-icon btn-close" id="closeMoveModal" aria-label="Fechar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="move-modal-content" id="moveModalContent">
                    <!-- Folder list rendered here -->
                </div>
            </div>
        </div>

        <!-- Folder Options Modal -->
        <div class="folder-options-overlay" id="folderOptionsOverlay">
            <div class="folder-options" id="folderOptions">
                <button class="folder-option" id="renameFolderBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    <span>Renomear</span>
                </button>
                <button class="folder-option danger" id="deleteFolderBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    <span>Excluir</span>
                </button>
            </div>
        </div>

        <!-- PDF Options Modal (for mobile) -->
        <div class="pdf-options-overlay" id="pdfOptionsOverlay" onclick="if(event.target===this)closePdfOptionsModal()">
            <div class="pdf-options" id="pdfOptions">
                <div class="pdf-options-title" id="pdfOptionsTitle">Opções</div>
                <button type="button" class="pdf-option" onclick="handleViewPdf()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                    <span>Visualizar</span>
                </button>
                <button type="button" class="pdf-option" onclick="handleRenamePdf()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    <span>Renomear</span>
                </button>
                <button type="button" class="pdf-option" onclick="handleSharePdf()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    <span>Compartilhar</span>
                </button>
                <button type="button" class="pdf-option" onclick="handleMovePdf()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                        <polyline points="12 11 12 17"></polyline>
                        <polyline points="9 14 12 11 15 14"></polyline>
                    </svg>
                    <span>Mover</span>
                </button>
                <button type="button" class="pdf-option danger" onclick="handleDeletePdf()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    <span>Excluir</span>
                </button>
            </div>
        </div>

        <!-- Rename PDF Modal -->
        <div class="folder-modal-overlay" id="renamePdfModalOverlay">
            <div class="folder-modal" id="renamePdfModal">
                <h3>Renomear PDF</h3>
                <input type="text" id="renamePdfInput" placeholder="Nome do PDF" maxlength="100" autocomplete="off">
                <div class="folder-modal-actions">
                    <button class="btn-text" id="cancelRenamePdfBtn">Cancelar</button>
                    <button class="btn-primary" id="saveRenamePdfBtn">Salvar</button>
                </div>
            </div>
        </div>


        <!-- Toast Container -->
        <div class="toast-container" id="toastContainer"></div>


        <!-- Confirm Delete Modal -->
        <div class="confirm-modal-overlay" id="confirmDeleteOverlay">
            <div class="confirm-modal">
                <div class="confirm-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </div>
                <h3>Excluir catálogo?</h3>
                <p id="confirmDeleteName"></p>
                <div class="confirm-actions">
                    <button class="btn-text" id="cancelDeleteBtn">Cancelar</button>
                    <button class="btn-danger" id="confirmDeleteBtn">Excluir</button>
                </div>
            </div>
        </div>

        <!-- Confirm Delete Folder Modal -->
        <div class="confirm-modal-overlay" id="confirmDeleteFolderOverlay">
            <div class="confirm-modal">
                <div class="confirm-icon folder-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                    </svg>
                </div>
                <h3>Excluir pasta?</h3>
                <p id="confirmDeleteFolderName"></p>
                <p class="confirm-warning">Os PDFs dentro dela serão movidos para o Início.</p>
                <div class="confirm-actions">
                    <button class="btn-text" id="cancelDeleteFolderBtn">Cancelar</button>
                    <button class="btn-danger" id="confirmDeleteFolderBtn">Excluir</button>
                </div>
            </div>
        </div>

        <!-- Install Prompt -->
        <div class="install-prompt" id="installPrompt">
            <div class="install-content">
                <div class="install-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </div>
                <div class="install-text">
                    <strong>Instalar LP CATALOGOS</strong>
                    <span>Acesso rápido na tela inicial</span>
                </div>
            </div>
            <div class="install-actions">
                <button class="btn-text" id="dismissInstall">Depois</button>
                <button class="btn-primary" id="confirmInstall">Instalar</button>
            </div>
        </div>

        <!-- Update Banner -->
        <div class="update-banner" id="updateBanner">
            <div class="update-content">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                    <path d="M3 3v5h5"></path>
                    <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path>
                    <path d="M21 21v-5h-5"></path>
                </svg>
                <span>Nova versão disponível!</span>
            </div>
            <button class="btn-update" id="updateBtn">Atualizar</button>
        </div>



        <!-- Footer -->
        <footer class="app-footer">
            <p>© 2024 Todos os direitos reservados para <strong>Sane Tecnologia</strong></p>
        </footer>
    </div>

    <!-- App Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/share.js"></script>
    <script src="js/app.js"></script>
</body>

</html>